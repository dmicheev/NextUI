# Rover NextUI - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –≤–µ–±-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º –Ω–∞ –±–∞–∑–µ Next.js, –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω–Ω–∞—è –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–æ—à–∏–≤–∫–∏ ESP32.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd NextUI
npm install
```

### –ó–∞–ø—É—Å–∫ development —Å–µ—Ä–≤–µ—Ä–∞

```bash
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ [http://localhost:3000](http://localhost:3000) –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

### –°–±–æ—Ä–∫–∞ –¥–ª—è production

```bash
npm run build
npm start
```

## üìã –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- **Next.js 15** - React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å App Router
- **TypeScript** - –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **Tailwind CSS** - –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ CSS –∫–ª–∞—Å—Å—ã
- **React Context** - –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
NextUI/
‚îú‚îÄ‚îÄ app/                      # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ api/                # API Routes (–ø—Ä–æ–∫—Å–∏ –∫ ESP32)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ status/         # –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ servo/          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ motor/          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ camera/         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ joystick/       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –¥–∂–æ–π—Å—Ç–∏–∫
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ emergency/      # –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ components/          # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx          # –ì–ª–æ–±–∞–ª—å–Ω—ã–π layout
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx            # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îî‚îÄ‚îÄ globals.css         # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ context/               # React Context –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îú‚îÄ‚îÄ hooks/                 # –ö–∞—Å—Ç–æ–º–Ω—ã–µ React —Ö—É–∫–∏
‚îú‚îÄ‚îÄ lib/                   # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ esp32-client.ts     # –ö–ª–∏–µ–Ω—Ç –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å ESP32
‚îÇ   ‚îú‚îÄ‚îÄ joystick-algorithms.ts  # –ê–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞—Å—á—ë—Ç–∞ –¥–≤–∏–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ utils.ts            # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îî‚îÄ‚îÄ types/                 # TypeScript —Ç–∏–ø—ã
```

## üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ESP32

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–¥—Ä–µ—Å–æ–≤

–í —Ñ–∞–π–ª–µ [`lib/esp32-client.ts`](lib/esp32-client.ts) —É–∫–∞–∂–∏—Ç–µ –∞–¥—Ä–µ—Å–∞ –≤–∞—à–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:

```typescript
export const ESP32_API_BASE = 'http://192.168.1.108:8080';
export const CAMERA_STREAM_URL = 'http://192.168.1.111:81';
```

### API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------|----------|
| `/api/status` | GET | –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã |
| `/api/servo` | GET/POST | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–∞–º–∏ |
| `/api/servo/calibrate` | POST | –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–æ–≤ |
| `/api/motor` | GET/POST | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–∞–º–∏ |
| `/api/motor/stop` | POST | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –º–æ—Ç–æ—Ä–æ–≤ |
| `/api/camera` | GET/POST | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π (PWM) |
| `/api/camera/pulse` | POST | –ò–º–ø—É–ª—å—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π |
| `/api/emergency` | POST | –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ |
| `/api/joystick` | POST | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –¥–∂–æ–π—Å—Ç–∏–∫ (—Ä–∞—Å—á—ë—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ) |

## üéÆ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –í–∫–ª–∞–¥–∫–∞ "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã"

- **–°–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥—ã** (4 —à—Ç):
  - –°–ª–∞–π–¥–µ—Ä —É–≥–ª–∞ (0-180¬∞)
  - –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ (min/max PWM)
  - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —É–≥–ª–∞

- **DC –ú–æ—Ç–æ—Ä—ã** (4 —à—Ç: A, B, C, D):
  - –ö–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–Ω–∞–∑–∞–¥, —Å—Ç–æ–ø, –≤–ø–µ—Ä—ë–¥)
  - –°–ª–∞–π–¥–µ—Ä —Ç–æ—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ (-255...255)
  - –ü–æ–ª–µ –≤–≤–æ–¥–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏

- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ –º–æ—Ç–æ—Ä–∞–º–∏**:
  - –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤—Å–µ—Ö –º–æ—Ç–æ—Ä–æ–≤

### –í–∫–ª–∞–¥–∫–∞ "–î–∂–æ–π—Å—Ç–∏–∫"

- **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥–∂–æ–π—Å—Ç–∏–∫**:
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º—ã—à–∏ –∏ —Ç–∞—á-—Å–æ–±—ã—Ç–∏–π
  - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–∏ (X, Y)

- **–†–µ–∂–∏–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
  - üöó **–ï–∑–¥–∞** - —Ç–∞–Ω–∫–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–∞–º–∏
  - üîß **–°–µ—Ä–≤–æ** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–∞–º–∏
  - üéØ **–ú–∏–∫—Å** - –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–∞–º–∏ –∏ —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–∞–º–∏

- **–°—Ç–∞—Ç—É—Å –º–æ—Ç–æ—Ä–æ–≤**:
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö —Å–∫–æ—Ä–æ—Å—Ç–µ–π
  - –ö–Ω–æ–ø–∫–∞ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

### –í–∫–ª–∞–¥–∫–∞ "–ö–∞–º–µ—Ä–∞"

- **–í–∏–¥–µ–æ–ø–æ—Ç–æ–∫**:
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ MJPEG –ø–æ—Ç–æ–∫–∞
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
  - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏

- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PWM**:
  - Pan (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ) - —Å–ª–∞–π–¥–µ—Ä –∏ –ø–æ–ª–µ –≤–≤–æ–¥–∞
  - Tilt (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ) - —Å–ª–∞–π–¥–µ—Ä –∏ –ø–æ–ª–µ –≤–≤–æ–¥–∞
  - –ò–º–ø—É–ª—å—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- **–ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–µ—Å–µ—Ç—ã**:
  - –í–ª–µ–≤–æ/–í–ø—Ä–∞–≤–æ/–í–≤–µ—Ä—Ö/–í–Ω–∏–∑
  - –¶–µ–Ω—Ç—Ä

## üî¨ –ê–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞—Å—á—ë—Ç–∞ –¥–≤–∏–∂–µ–Ω–∏—è

–í—Å–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞—Å—á—ë—Ç–∞ –¥–≤–∏–∂–µ–Ω–∏—è –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ [`lib/joystick-algorithms.ts`](lib/joystick-algorithms.ts):

- `calculateTankDrive(x, y)` - —Ç–∞–Ω–∫–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- `calculateSyncDrive(x, y)` - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
- `calculateTurnDrive(x, y)` - –ø–æ–≤–æ—Ä–æ—Ç –Ω–∞ –º–µ—Å—Ç–µ
- `calculateServoControl(x, y, angles)` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–∞–º–∏
- `calculateMixedControl(x, y, useServo)` - —Å–º–µ—à–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
- `calculateOmniDrive(x, y, rotation)` - –æ–º–Ω–∏-–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

**–í–∞–∂–Ω–æ:** –ö–ª–∏–µ–Ω—Ç –Ω–µ –≤—ã—á–∏—Å–ª—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–≤–∏–∂–µ–Ω–∏—è - –æ–Ω —Ç–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–¥–≤–∏–≥–∞—Ç—å—Å—è –≤–ø–µ—Ä—ë–¥"), –∞ —Å–µ—Ä–≤–µ—Ä —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è ESP32.

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞** - –∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** - –≤—Å–µ API routes –ø—Ä–æ–≤–µ—Ä—è—é—Ç –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

## üìù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ `app/components/`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ö—É–∫–∏ –∏–∑ `hooks/`
3. –£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —á–µ—Ä–µ–∑ `useRobot()`

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö API endpoints

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –≤ `app/api/–Ω–∞–∑–≤–∞–Ω–∏–µ/route.ts`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ `lib/esp32-client.ts`
3. –î–æ–±–∞–≤—å—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Tailwind CSS

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ [`tailwind.config.ts`](tailwind.config.ts):

- –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ü–≤–µ—Ç–∞ (cyan-400, green-400, red-500, etc.)
- –ê–Ω–∏–º–∞—Ü–∏–∏ (pulse, loading, fadeIn)

### TypeScript

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ [`tsconfig.json`](tsconfig.json):

- Strict mode –≤–∫–ª—é—á—ë–Ω
- Path aliases: `@/*` ‚Üí –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ù–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ ESP32

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–¥—Ä–µ—Å –≤ `lib/esp32-client.ts`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ESP32 –≤ —Ç–æ–π –∂–µ —Å–µ—Ç–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ ESP32 (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `*`)

### –í–∏–¥–µ–æ–ø–æ—Ç–æ–∫ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–¥—Ä–µ—Å `CAMERA_STREAM_URL`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–∞–º–µ—Ä–∞ –≤–∫–ª—é—á–µ–Ω–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 81 –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —Ñ–∞–π—Ä–≤–æ–ª–æ–º

### –û—à–∏–±–∫–∏ TypeScript

```bash
npm run build
```

–ò—Å–ø—Ä–∞–≤—å—Ç–µ –≤—Å–µ –æ—à–∏–±–∫–∏ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
